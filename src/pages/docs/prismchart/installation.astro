---
import DocsLayout from '../../../layouts/DocsLayout.astro';

const sidebar = [
	{
		title: 'Docs',
		links: [
			{ href: '/docs', label: 'Intro' }
		]
	},
	{
		title: 'PrismChart',
		collapsible: true,
		expanded: true,
		links: [
			{ href: '/docs/prismchart', label: 'Overview' },
			{ href: '/docs/prismchart/installation', label: 'Installation', active: true },
			{ href: '/docs/prismchart/foundation', label: 'Foundation' },
			{ href: '/docs/prismchart/chart-tools', label: 'Chart Tools' },
			{ href: '/docs/prismchart/layers', label: 'Layers' },
			{ href: '/docs/prismchart/drawing-tools-1', label: 'Drawing Tools 1' },
			{ href: '/docs/prismchart/drawing-tools-2', label: 'Drawing Tools 2' },
			{ href: '/docs/prismchart/drawing-tools-3', label: 'Drawing Tools 3' },
			{ href: '/docs/prismchart/development', label: 'Development' },
			{ href: '/docs/prismchart/credits', label: 'Credits' }
		]
	}
];

const toc = [
	{ href: '#video', label: 'Video' },
	{ href: '#fresh-install', label: 'Fresh Install' },
	{ href: '#requirements', label: 'Requirements' }
];
---

<DocsLayout title="Installation - PrismChart - Docs" sidebar={sidebar} toc={toc} issuesUrl="https://github.com/ether-strannik/PrismChart/issues">
	<style>
		h1 {
			font-size: 1.8rem;
			font-weight: 600;
			margin-bottom: 2rem;
		}

		h2 {
			font-size: 1.2rem;
			font-weight: 600;
			margin: 2rem 0 1rem;
			padding-bottom: 0.5rem;
			border-bottom: 1px solid #e5e5e5;
		}

		h2:first-of-type {
			margin-top: 0;
		}

		ol, ul {
			padding-left: 1.5rem;
			margin-bottom: 1.5rem;
		}

		li {
			padding: 0.4rem 0;
			color: #333;
		}

		.note {
			color: #666;
			font-size: 0.95rem;
			padding: 1rem;
			background: #f5f5f5;
			border-radius: 4px;
			margin: 1.5rem 0;
		}

		.video-container {
			margin-bottom: 2rem;
			border-radius: 8px;
			overflow: hidden;
		}

		.video-container iframe {
			display: block;
			width: 100%;
			aspect-ratio: 16/9;
			border: none;
		}
	</style>

	<h1>Installation</h1>

	<div class="video-container" id="video">
		<div id="yt-player"></div>
	</div>

	<script>
		// YouTube IFrame API
		const tag = document.createElement('script');
		tag.src = 'https://www.youtube.com/iframe_api';
		document.head.appendChild(tag);

		window.onYouTubeIframeAPIReady = function() {
			new YT.Player('yt-player', {
				videoId: '8nVXbMy6JUM',
				playerVars: {
					rel: 0,
					modestbranding: 1
				},
				events: {
					onReady: function(e) {
						e.target.setPlaybackQuality('hd720');
					}
				}
			});
		};
	</script>

	<h2 id="fresh-install">Fresh Install</h2>
	<ol>
		<li>Download <a href="https://github.com/ether-strannik/PrismChart/raw/main/installer.zip">installer.zip</a> from the repository</li>
		<li>Extract and run <code>installer/installer.exe</code></li>
		<li>Select your Windows user and MT5 terminal</li>
		<li>Choose the version to install (latest recommended)</li>
		<li>(Optional) Configure SMTP email settings for alerts</li>
		<li>Click <strong>Install</strong></li>
	</ol>

	<p class="note">
		You can re-run the installer anytime to update SMTP settings or install a different version.
		Access it via the <strong>Installer</strong> button in Quick Tools (QT) dialog.
	</p>

	<h2 id="requirements">Requirements</h2>
	<ul>
		<li>Windows 10/11</li>
		<li>MetaTrader 5 terminal</li>
		<li>.NET Framework (for installer)</li>
	</ul>
</DocsLayout>
