---
import DocsLayout from '../../../layouts/DocsLayout.astro';

const sidebar = [
	{
		links: [
			{ href: '/docs/prismchart', label: 'Intro' },
			{ href: '/docs/prismchart/foundation', label: 'Foundation' },
			{ href: '/docs/prismchart/chart-tools', label: 'Chart Tools' },
			{ href: '/docs/prismchart/layers', label: 'Layers' },
			{ href: '/docs/prismchart/customization', label: 'Customization' },
			{ href: '/docs/prismchart/presentation', label: 'Presentation' },
			{ href: '/docs/prismchart/shortcuts', label: 'Shortcuts' }
		]
	},
	{
		title: 'Drawing Tools',
		collapsible: true,
		links: [
			{ href: '/docs/prismchart/drawing-tools-1', label: 'Drawing Tools 1', active: true },
			{ href: '/docs/prismchart/drawing-tools-2', label: 'Drawing Tools 2' },
			{ href: '/docs/prismchart/drawing-tools-3', label: 'Drawing Tools 3' }
		]
	},
	{
		title: 'Analysis Tools',
		collapsible: true,
		links: [
			{ href: '/docs/prismchart/quick-tools', label: 'Quick Tools' },
			{ href: '/docs/prismchart/time-context', label: 'Time Context' }
		]
	},
	{
		title: 'Portability',
		collapsible: true,
		links: [
			{ href: '/docs/prismchart/save-export', label: 'Save & Export' },
			{ href: '/docs/prismchart/copy-paste', label: 'Copy/Paste' }
		]
	},
	{
		title: 'Development',
		collapsible: true,
		links: [
			{ href: '/docs/prismchart/building', label: 'Building' },
			{ href: '/docs/prismchart/changelog', label: 'Changelog' },
			{ href: '/docs/prismchart/credits', label: 'Credits' }
		]
	}
];

const toc = [
	{ href: '#tool-properties', label: 'Tool Properties' },
	{ href: '#lines', label: 'Lines' },
	{ href: '#shapes', label: 'Shapes' },
	{ href: '#snap-to-bar', label: 'Snap to Bar' },
	{ href: '#complex-objects', label: 'Complex Objects' }
];
---

<DocsLayout title="Drawing Tools 1 - PrismChart - Docs" sidebar={sidebar} toc={toc} issuesUrl="https://github.com/ether-strannik/PrismChart/issues">
	<style>
		h1 {
			font-size: 1.8rem;
			font-weight: 600;
			margin-bottom: 0.5rem;
		}

		.tagline {
			color: #666;
			margin-bottom: 2rem;
		}

		h2 {
			font-size: 1.2rem;
			font-weight: 600;
			margin: 2rem 0 1rem;
			padding-bottom: 0.5rem;
			border-bottom: 1px solid #e5e5e5;
		}

		p {
			color: #333;
			margin-bottom: 1rem;
		}

		ul {
			padding-left: 1.5rem;
			margin-bottom: 1.5rem;
		}

		li {
			padding: 0.3rem 0;
			color: #333;
		}

		.section-intro {
			font-weight: 500;
			color: #000;
			margin-bottom: 0.75rem;
		}

		code {
			background: #f5f5f5;
			padding: 0.2em 0.4em;
			border-radius: 3px;
			font-size: 0.9em;
		}

		.video-container {
			margin-bottom: 2rem;
			border-radius: 8px;
			overflow: hidden;
		}

		.video-container iframe {
			display: block;
			width: 100%;
			aspect-ratio: 16/9;
			border: none;
		}

	</style>

	<h1>Drawing Tools 1</h1>
	<p class="tagline">Lines, shapes, and tool properties</p>

	<div class="video-container" id="video">
		<div id="yt-player"></div>
	</div>

	<script>
		const tag = document.createElement('script');
		tag.src = 'https://www.youtube.com/iframe_api';
		document.head.appendChild(tag);

		window.onYouTubeIframeAPIReady = function() {
			new YT.Player('yt-player', {
				videoId: 'nJ-ZfVmzLww',
				playerVars: { rel: 0, modestbranding: 1 },
				events: {
					onReady: function(e) { e.target.setPlaybackQuality('hd720'); }
				}
			});
		};
	</script>

	<h2 id="tool-properties">Tool Properties</h2>
	<p class="section-intro">Configure how your drawings look.</p>
	<p>The Properties panel controls appearance for new drawings and lets you modify existing ones. Set line width from 1 to 5, choose a line style (solid, dash, dot, dash-dot), and pick colors from a customizable palette with hex input support.</p>
	<p>Text has its own color property separate from line color. Font size ranges from 8 to 24. For rectangles and lines with labels, you can position text in eight different locations.</p>
	<p>The Filled checkbox controls whether rectangles draw with a fill or just a border. Click Apply to push all current settings to a selected object - including moving it to a different layer.</p>

	<h2 id="lines">Lines</h2>
	<p class="section-intro">The foundation of technical analysis.</p>
	<p>Trend lines connect two points. Click to set the start, drag to the end, release. Angled lines snap to preset angles: 0, 30, 45, 60, 90 degrees and their negatives. Rays extend infinitely from their anchor point in one direction.</p>
	<p>Horizontal and vertical lines are single-click tools - click where you want them placed.</p>
	<p>The Straighten tool converts any trend line to horizontal while enabling angle lock. Angle lock keeps lines at their current angle when you drag them - move position without changing slope.</p>

	<h2 id="shapes">Shapes</h2>
	<p class="section-intro">Mark zones and structure.</p>
	<p>Rectangles come in three variants: border-only, filled, and with text. The fill state can be toggled in the Properties dialog at any time. Rectangle with text opens a naming dialog where you enter the label content.</p>
	<p>The Path tool draws multi-segment lines. Click to place each point, building connected segments as you go. Press Ctrl+Backspace to undo the last segment while drawing.</p>

	<h2 id="snap-to-bar">Snap to Bar</h2>
	<p class="section-intro">Precision placement on candle boundaries.</p>
	<p>The magnet feature snaps drawing anchors to bar boundaries. Sensitivity is configurable - higher values create a stronger pull toward OHLC points. Set to 0 to disable snapping entirely for freeform placement.</p>

	<h2 id="complex-objects">Complex Objects</h2>
	<p class="section-intro">Text creates grouped sublayers.</p>
	<p>When you add text to a line or rectangle, PrismChart creates a sublayer relationship. The text object becomes a child of the parent shape, linked in the layer system.</p>
	<p>This grouping means lock, hide, and delete operations propagate to all parts. Delete the parent and its text goes with it. The naming convention follows the pattern: if your rectangle is named <code>FVG_001</code>, its text becomes <code>FVG_001_txt</code>.</p>
	<p>Use Ctrl+Shift+Q to delete a complex object and all its sublayers at once.</p>
</DocsLayout>
