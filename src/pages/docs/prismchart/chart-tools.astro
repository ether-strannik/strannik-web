---
import DocsLayout from '../../../layouts/DocsLayout.astro';

const sidebar = [
	{
		title: 'Docs',
		links: [
			{ href: '/docs', label: 'Intro' }
		]
	},
	{
		title: 'PrismChart',
		collapsible: true,
		expanded: true,
		links: [
			{ href: '/docs/prismchart', label: 'Intro' },
			{ href: '/docs/prismchart/foundation', label: 'Foundation' },
			{ href: '/docs/prismchart/chart-tools', label: 'Chart Tools', active: true },
			{ href: '/docs/prismchart/layers', label: 'Layers' },
			{
				label: 'Drawing Tools',
				children: [
					{ href: '/docs/prismchart/drawing-tools-1', label: 'Drawing Tools 1' },
					{ href: '/docs/prismchart/drawing-tools-2', label: 'Drawing Tools 2' },
					{ href: '/docs/prismchart/drawing-tools-3', label: 'Drawing Tools 3' }
				]
			},
			{ href: '/docs/prismchart/shortcuts', label: 'Shortcuts' },
			{ href: '/docs/prismchart/changelog', label: 'Changelog' },
			{ href: '/docs/prismchart/development', label: 'Development' },
			{ href: '/docs/prismchart/credits', label: 'Credits' }
		]
	}
];

const toc = [
	{ href: '#crosshair', label: 'Crosshair' },
	{ href: '#ohlc-info', label: 'OHLC Info Display' },
	{ href: '#price-line', label: 'Price Line' },
	{ href: '#spread-meter', label: 'Spread Meter' },
	{ href: '#candle-countdown', label: 'Candle Countdown' },
	{ href: '#symbol-switcher', label: 'Symbol Switcher' }
];
---

<DocsLayout title="Chart Tools - PrismChart - Docs" sidebar={sidebar} toc={toc} issuesUrl="https://github.com/ether-strannik/PrismChart/issues">
	<style>
		h1 {
			font-size: 1.8rem;
			font-weight: 600;
			margin-bottom: 0.5rem;
		}

		.tagline {
			color: #666;
			margin-bottom: 2rem;
		}

		h2 {
			font-size: 1.2rem;
			font-weight: 600;
			margin: 2rem 0 1rem;
			padding-bottom: 0.5rem;
			border-bottom: 1px solid #e5e5e5;
		}

		.section-intro {
			font-weight: 500;
			color: #000;
			margin-bottom: 1rem;
		}

		.note {
			color: #666;
			font-size: 0.95rem;
			padding: 1rem;
			background: #f5f5f5;
			border-radius: 4px;
			margin: 1.5rem 0;
		}

		p {
			color: #333;
			margin-bottom: 1rem;
		}

		ul {
			padding-left: 1.5rem;
			margin-bottom: 1.5rem;
		}

		li {
			padding: 0.3rem 0;
			color: #333;
		}

		.video-container {
			margin-bottom: 2rem;
			border-radius: 8px;
			overflow: hidden;
		}

		.video-container iframe {
			display: block;
			width: 100%;
			aspect-ratio: 16/9;
			border: none;
		}
	</style>

	<h1>Chart Tools</h1>
	<p class="tagline">Live data displays and chart utilities</p>

	<div class="video-container" id="video">
		<div id="yt-player"></div>
	</div>

	<script>
		const tag = document.createElement('script');
		tag.src = 'https://www.youtube.com/iframe_api';
		document.head.appendChild(tag);

		window.onYouTubeIframeAPIReady = function() {
			new YT.Player('yt-player', {
				videoId: 'veHM1T3sNeg',
				playerVars: { rel: 0, modestbranding: 1 },
				events: {
					onReady: function(e) { e.target.setPlaybackQuality('hd720'); }
				}
			});
		};
	</script>

	<h2 id="crosshair">Crosshair</h2>
	<p class="section-intro">Track price and time with precision.</p>
	<p>When custom scales are enabled, PrismChart provides its own crosshair that integrates with the canvas-rendered price and time axes. The crosshair displays labels directly on both scales, showing price and time in your selected timezone.</p>
	<p>You can customize line style, color, and width. Labels can be toggled independently from the crosshair lines - useful when you want bar info without visual clutter interfering with object selection.</p>
	<p class="note"><strong>Tip:</strong> Press <strong>T</strong> to toggle tracking on and off. When tracking is off, the crosshair stays at its last position.</p>

	<h2 id="ohlc-info">OHLC Info Display</h2>
	<p class="section-intro">See what matters about each bar.</p>
	<p>The OHLC panel replaces MT5's built-in display with a configurable info strip. It shows symbol name, bar number, OHLC values, range in pips, body and wick percentages, volume, and time in your timezone.</p>
	<p>Each section can be toggled on or off. Font and font size are customizable, so you can make it as minimal or detailed as you prefer.</p>

	<h2 id="price-line">Price Line</h2>
	<p class="section-intro">Always know where price is.</p>
	<p>A horizontal line follows the current price in real-time. It changes color based on direction - green when above the previous close, red when below. Optional labels appear above the line and on the price scale.</p>

	<h2 id="spread-meter">Spread Meter</h2>
	<p class="section-intro">Monitor trading costs at a glance.</p>
	<p>The spread meter displays the current spread and alerts you when it exceeds a threshold you define. Colors are configurable, making it easy to spot when spreads widen during news or low-liquidity periods.</p>

	<h2 id="candle-countdown">Candle Countdown</h2>
	<p class="section-intro">Know when the bar closes.</p>
	<p>A countdown timer shows time remaining until the current candle closes. It's integrated into the bottom of the price scale and updates in real-time. Useful for timing entries on candle close confirmation.</p>

	<h2 id="symbol-switcher">Symbol Switcher</h2>
	<p class="section-intro">Switch pairs and timeframes without leaving your chart.</p>
	<p>The symbol switcher displays your current symbol and timeframe in a toggle button. Click it to access your favorites list and timeframe selector. One-click switching between pairs, or open a symbol in a new chart window.</p>
	<p>Add and remove symbols from favorites directly in the dialog. Timeframe buttons provide quick access to common intervals: M1, M5, M15, M30, H1, H4, D1.</p>
	<p class="note"><strong>Note:</strong> Symbols must be added to MT5 Market Watch before adding them to favorites. Otherwise, switching will fail and new chart windows won't open.</p>
</DocsLayout>
